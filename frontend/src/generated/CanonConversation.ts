import type { JsonValue } from "../../../backend/crates/octo/bindings/serde_json/JsonValue";
// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.
import type { CanonMessage } from "./CanonMessage";

/**
 * A canonical conversation (chat session).
 */
export type CanonConversation = {
	/**
	 * Internal conversation ID.
	 */
	id: string;
	/**
	 * External ID from source system (e.g., Pi session UUID).
	 */
	external_id: string | null;
	/**
	 * Human-readable ID (e.g., "amber-builds-beacon").
	 */
	readable_id: string | null;
	/**
	 * Conversation title/summary.
	 */
	title: string | null;
	/**
	 * Workspace/project directory.
	 */
	workspace: string | null;
	/**
	 * Project name (derived from workspace).
	 */
	project_name: string | null;
	/**
	 * Creation timestamp (Unix milliseconds).
	 */
	createdAt: bigint;
	/**
	 * Last update timestamp (Unix milliseconds).
	 */
	updatedAt: bigint;
	/**
	 * Primary model used.
	 */
	model: string | null;
	/**
	 * Total input tokens.
	 */
	tokens_in: bigint | null;
	/**
	 * Total output tokens.
	 */
	tokens_out: bigint | null;
	/**
	 * Total cost in USD.
	 */
	cost_usd: number | null;
	/**
	 * Parent conversation ID (for branching).
	 */
	parent_id: string | null;
	/**
	 * Source agent type (e.g., "pi", "claude-code", "opencode").
	 */
	agent: string | null;
	/**
	 * Whether this conversation is currently active/running.
	 */
	isActive: boolean;
	/**
	 * Messages in this conversation (optional, for full fetch).
	 */
	messages: Array<CanonMessage>;
	/**
	 * Additional metadata.
	 */
	metadata: JsonValue | null;
};
