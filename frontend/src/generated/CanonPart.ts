import type { JsonValue } from "../../../backend/crates/oqto/bindings/serde_json/JsonValue";
// This file was generated by [ts-rs](https://github.com/Aleph-Alpha/ts-rs). Do not edit this file manually.
import type { FileRange } from "./FileRange";
import type { MediaDimensions } from "./MediaDimensions";
import type { TextFormat } from "./TextFormat";
import type { ThinkingVisibility } from "./ThinkingVisibility";
import type { ToolStatus } from "./ToolStatus";

/**
 * Canonical content part - the building block of messages.
 *
 * This enum covers all content types used by various AI agents:
 * - Text content (plain or markdown)
 * - Thinking/reasoning (chain-of-thought)
 * - Tool calls and results
 * - File references and citations
 * - Extension types for agent-specific content
 */
export type CanonPart =
	| {
			type: "text";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * The text content.
			 */
			text: string;
			/**
			 * Format hint (markdown or plain).
			 */
			format: TextFormat;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  }
	| {
			type: "thinking";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * The thinking content.
			 */
			text: string;
			/**
			 * Whether to show in UI or keep hidden.
			 */
			visibility: ThinkingVisibility;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  }
	| {
			type: "tool_call";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Tool call ID for correlation with result.
			 */
			toolCallId: string;
			/**
			 * Tool name.
			 */
			name: string;
			/**
			 * Tool input parameters.
			 */
			input: JsonValue | null;
			/**
			 * Execution status.
			 */
			status: ToolStatus;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  }
	| {
			type: "tool_result";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Tool call ID this result corresponds to.
			 */
			toolCallId: string;
			/**
			 * Tool name (may be omitted if obvious from context).
			 */
			name: string | null;
			/**
			 * Tool output.
			 */
			output: JsonValue | null;
			/**
			 * Whether the tool execution resulted in an error.
			 */
			isError: boolean;
			/**
			 * Human-readable summary/title.
			 */
			title: string | null;
			/**
			 * Execution duration in milliseconds.
			 */
			duration_ms: bigint | null;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  }
	| {
			type: "file_ref";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * URI or path to the file.
			 */
			uri: string;
			/**
			 * Human-readable label.
			 */
			label: string | null;
			/**
			 * Optional range within the file.
			 */
			range: FileRange | null;
			/**
			 * Original text that was replaced by this reference.
			 */
			origin_text: string | null;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  }
	| {
			type: "citation";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Citation label.
			 */
			label: string | null;
			/**
			 * Target URI.
			 */
			target_uri: string | null;
			/**
			 * Optional range within the target.
			 */
			target_range: FileRange | null;
			/**
			 * Original text being cited.
			 */
			origin_text: string | null;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  }
	| ({
			type: "image";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Alt text for accessibility.
			 */
			alt: string | null;
			/**
			 * Image dimensions.
			 */
			dimensions: MediaDimensions | null;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  } & (
			| {
					/**
					 * URL to the media file.
					 */
					url: string;
					/**
					 * MIME type (optional, can be inferred from URL or content).
					 */
					mime_type: string | null;
			  }
			| {
					/**
					 * Base64-encoded content.
					 */
					data: string;
					/**
					 * MIME type (required for base64).
					 */
					mimeType: string;
			  }
	  ))
	| ({
			type: "audio";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Duration in seconds.
			 */
			duration_sec: number | null;
			/**
			 * Transcript of the audio (if available).
			 */
			transcript: string | null;
			/**
			 * Additional metadata (sample rate, channels, etc.).
			 */
			meta: JsonValue | null;
	  } & (
			| {
					/**
					 * URL to the media file.
					 */
					url: string;
					/**
					 * MIME type (optional, can be inferred from URL or content).
					 */
					mime_type: string | null;
			  }
			| {
					/**
					 * Base64-encoded content.
					 */
					data: string;
					/**
					 * MIME type (required for base64).
					 */
					mimeType: string;
			  }
	  ))
	| ({
			type: "video";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Duration in seconds.
			 */
			duration_sec: number | null;
			/**
			 * Video dimensions.
			 */
			dimensions: MediaDimensions | null;
			/**
			 * Thumbnail image URL.
			 */
			thumbnail: string | null;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  } & (
			| {
					/**
					 * URL to the media file.
					 */
					url: string;
					/**
					 * MIME type (optional, can be inferred from URL or content).
					 */
					mime_type: string | null;
			  }
			| {
					/**
					 * Base64-encoded content.
					 */
					data: string;
					/**
					 * MIME type (required for base64).
					 */
					mimeType: string;
			  }
	  ))
	| ({
			type: "attachment";
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Original filename.
			 */
			filename: string | null;
			/**
			 * File size in bytes.
			 */
			size_bytes: bigint | null;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  } & (
			| {
					/**
					 * URL to the media file.
					 */
					url: string;
					/**
					 * MIME type (optional, can be inferred from URL or content).
					 */
					mime_type: string | null;
			  }
			| {
					/**
					 * Base64-encoded content.
					 */
					data: string;
					/**
					 * MIME type (required for base64).
					 */
					mimeType: string;
			  }
	  ))
	| {
			type: "extension";
			/**
			 * Part type (must start with "x-").
			 */
			type: string;
			/**
			 * Unique part ID.
			 */
			id: string;
			/**
			 * Extension payload.
			 */
			payload: JsonValue | null;
			/**
			 * Additional metadata.
			 */
			meta: JsonValue | null;
	  };
