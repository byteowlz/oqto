<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>trx Issue Manager</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0b;
            --bg-secondary: #141416;
            --bg-tertiary: #1c1c1f;
            --bg-hover: #252529;
            --accent-p1: #ff5f5f;
            --accent-p2: #ffb86c;
            --accent-p3: #ffd76f;
            --accent-p4: #7ee787;
            --text-primary: #f0f0f0;
            --text-secondary: #a0a0a0;
            --text-muted: #606060;
            --border: #2a2a2e;
            --border-hover: #3a3a3e;
            --epic: #c77dff;
            --feature: #7aa2f7;
            --task: #7ee787;
            --bug: #ff5f5f;
            --chore: #a0a0a0;
            --open: #7ee787;
            --closed: #ff5f5f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.5;
        }

        /* Scanline effect */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15) 0px,
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 1000;
        }

        /* Noise texture */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.03;
            pointer-events: none;
            z-index: 1000;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            border-bottom: 1px solid var(--border);
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        h1 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: -0.02em;
            background: linear-gradient(90deg, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        .stats {
            display: flex;
            gap: 2rem;
            font-size: 0.875rem;
        }

        .stat {
            text-align: right;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 600;
            display: block;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--accent-p2);
        }

        .search-box::before {
            content: '>';
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        .filter-group {
            display: flex;
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-secondary);
            font-family: inherit;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .filter-btn:hover {
            border-color: var(--border-hover);
            color: var(--text-primary);
        }

        .filter-btn.active {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: var(--text-muted);
        }

        .priority-legend {
            display: flex;
            gap: 1rem;
            font-size: 0.75rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.375rem;
            color: var(--text-muted);
        }

        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .issues-container {
            display: grid;
            gap: 1px;
            background: var(--border);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
        }

        .priority-section {
            background: var(--bg-primary);
        }

        .priority-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: background 0.2s;
        }

        .priority-header:hover {
            background: var(--bg-tertiary);
        }

        .priority-header.collapsed {
            border-bottom: none;
        }

        .priority-toggle {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            transition: transform 0.2s;
        }

        .priority-header.collapsed .priority-toggle {
            transform: rotate(-90deg);
        }

        .priority-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .priority-badge.p1 {
            background: rgba(255, 95, 95, 0.15);
            color: var(--accent-p1);
            border: 1px solid rgba(255, 95, 95, 0.3);
        }

        .priority-badge.p2 {
            background: rgba(255, 184, 108, 0.15);
            color: var(--accent-p2);
            border: 1px solid rgba(255, 184, 108, 0.3);
        }

        .priority-badge.p3 {
            background: rgba(255, 215, 111, 0.15);
            color: var(--accent-p3);
            border: 1px solid rgba(255, 215, 111, 0.3);
        }

        .priority-badge.p4 {
            background: rgba(126, 231, 135, 0.15);
            color: var(--accent-p4);
            border: 1px solid rgba(126, 231, 135, 0.3);
        }

        .priority-count {
            margin-left: auto;
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .priority-select-all {
            margin-left: 1rem;
            font-size: 0.75rem;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .priority-select-all:hover {
            color: var(--text-primary);
            background: var(--bg-hover);
        }

        .issues-list {
            padding: 0.5rem 0;
        }

        .issues-list.hidden {
            display: none;
        }

        .issue-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1.5rem;
            border-bottom: 1px solid var(--border);
            transition: all 0.15s;
            cursor: pointer;
        }

        .issue-item:last-child {
            border-bottom: none;
        }

        .issue-item:hover {
            background: var(--bg-hover);
        }

        .issue-item.selected {
            background: rgba(122, 162, 247, 0.1);
        }

        .issue-item.hidden {
            display: none;
        }

        .issue-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--border-hover);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .issue-checkbox:hover {
            border-color: var(--text-muted);
        }

        .issue-checkbox.checked {
            background: var(--feature);
            border-color: var(--feature);
        }

        .issue-checkbox.checked::after {
            content: '✓';
            color: var(--bg-primary);
            font-size: 0.75rem;
            font-weight: 700;
        }

        .issue-id {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            min-width: 100px;
            flex-shrink: 0;
        }

        .issue-type {
            padding: 0.125rem 0.5rem;
            border-radius: 3px;
            font-size: 0.625rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            flex-shrink: 0;
        }

        .issue-type.epic {
            background: rgba(199, 125, 255, 0.15);
            color: var(--epic);
        }

        .issue-type.feature {
            background: rgba(122, 162, 247, 0.15);
            color: var(--feature);
        }

        .issue-type.task {
            background: rgba(126, 231, 135, 0.15);
            color: var(--task);
        }

        .issue-type.bug {
            background: rgba(255, 95, 95, 0.15);
            color: var(--bug);
        }

        .issue-type.chore {
            background: rgba(160, 160, 160, 0.15);
            color: var(--chore);
        }

        .issue-title {
            flex: 1;
            font-size: 0.875rem;
            color: var(--text-primary);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .issue-status {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            padding: 0.125rem 0.5rem;
            border-radius: 3px;
            background: var(--bg-tertiary);
        }

        .action-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 1.5rem 2rem;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 100;
        }

        .action-panel.active {
            transform: translateY(0);
        }

        .action-panel-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
        }

        .selected-count {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            white-space: nowrap;
            padding-top: 0.5rem;
        }

        .selected-count span {
            color: var(--accent-p1);
        }

        .close-form {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .close-form input {
            padding: 0.75rem 1rem;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.875rem;
        }

        .close-form input:focus {
            outline: none;
            border-color: var(--accent-p2);
        }

        .close-form input::placeholder {
            color: var(--text-muted);
        }

        .form-actions {
            display: flex;
            gap: 0.75rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .btn-secondary:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .btn-primary {
            background: var(--accent-p1);
            color: white;
        }

        .btn-primary:hover {
            background: #ff4040;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 95, 95, 0.3);
        }

        .command-preview {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            font-size: 0.75rem;
            color: var(--text-muted);
            max-height: 150px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-break: break-all;
        }

        .command-preview-title {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-hover);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            .stats {
                display: none;
            }

            .controls {
                flex-direction: column;
            }

            .search-box {
                min-width: 100%;
            }

            .action-panel-content {
                flex-direction: column;
            }

            .close-form {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div>
                <h1>trx Issue Manager</h1>
                <div class="subtitle">octo • /home/wismut/byteowlz/octo</div>
            </div>
            <div class="stats">
                <div class="stat">
                    <span class="stat-value" id="total-count">0</span>
                    <span class="stat-label">Open Issues</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="selected-stat">0</span>
                    <span class="stat-label">Selected</span>
                </div>
            </div>
        </header>

        <div class="controls">
            <div class="search-box">
                <input type="text" id="search" placeholder="Filter issues...">
            </div>
            <div class="filter-group">
                <button class="filter-btn active" data-type="all">All</button>
                <button class="filter-btn" data-type="epic">Epic</button>
                <button class="filter-btn" data-type="feature">Feature</button>
                <button class="filter-btn" data-type="task">Task</button>
                <button class="filter-btn" data-type="bug">Bug</button>
            </div>
            <div class="priority-legend">
                <div class="legend-item">
                    <div class="legend-dot" style="background: var(--accent-p1);"></div>
                    <span>P1 Critical</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: var(--accent-p2);"></div>
                    <span>P2 Medium</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: var(--accent-p3);"></div>
                    <span>P3 Low</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: var(--accent-p4);"></div>
                    <span>P4 Backlog</span>
                </div>
            </div>
        </div>

        <div class="issues-container" id="issues-container">
            <!-- Issues will be rendered here -->
        </div>
    </div>

    <div class="action-panel" id="action-panel">
        <div class="action-panel-content">
            <div class="selected-count"><span id="selected-count">0</span> selected</div>
            <div class="close-form">
                <input type="text" id="close-reason" placeholder="Reason for closing (optional)">
                <div class="command-preview">
                    <div class="command-preview-title">Commands to execute:</div>
                    <div id="command-preview"></div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" onclick="clearSelection()">Clear</button>
                    <button class="btn btn-primary" onclick="copyCommands()">Copy Commands</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const issuesData = [
            { id: 'octo-9cdt', priority: 1, type: 'epic', title: 'Make hstry the sole history source while preserving streaming', status: 'open' },
            { id: 'octo-wg67', priority: 1, type: 'task', title: 'Implement @@ cross-agent routing in runner', status: 'open' },
            { id: 'octo-1hbb', priority: 1, type: 'task', title: 'Define runner session state machine and command dispatch', status: 'in_progress' },
            { id: 'octo-y5r3', priority: 1, type: 'epic', title: 'Octo migration: replace all direct SQLite access with hstry gRPC client calls', status: 'open' },
            { id: 'octo-xxe2', priority: 1, type: 'task', title: 'Per-workspace hstry/mmry stores + sync scoping', status: 'open' },
            { id: 'octo-wdkj', priority: 1, type: 'task', title: 'Remote runner bootstrap over SSH', status: 'open' },
            { id: 'octo-59py', priority: 1, type: 'task', title: 'Workspace locations schema + routing', status: 'open' },
            { id: 'octo-pdb4', priority: 1, type: 'epic', title: 'Shared workspaces with multi-location runners', status: 'open' },
            { id: 'octo-1ddx', priority: 1, type: 'task', title: 'Move global sandbox config to read-only path', status: 'open' },
            { id: 'octo-t2bf', priority: 1, type: 'epic', title: 'Multi-Runner & Workspace Sharing', status: 'open' },
            { id: 'octo-zjs8.3', priority: 1, type: 'task', title: 'Add strict clippy lints to all Cargo.toml files', status: 'open' },
            { id: 'octo-zjs8.2', priority: 1, type: 'task', title: 'Fix clippy warnings in frontend/src-tauri', status: 'open' },
            { id: 'octo-zjs8.1', priority: 1, type: 'task', title: 'Fix all clippy warnings in backend crates', status: 'open' },
            { id: 'octo-zqyg', priority: 1, type: 'bug', title: 'Fix Linux user creation sudo allowlist path mismatch', status: 'open' },
            { id: 'octo-qq9y', priority: 1, type: 'task', title: 'Security audit sudoers configuration for multi-user mode', status: 'open' },
            { id: 'octo-p3n2', priority: 1, type: 'epic', title: 'API Key Authentication & External Integration', status: 'open' },
            { id: 'octo-9bqx', priority: 1, type: 'bug', title: 'Add limits to zip download endpoints to prevent disk/CPU exhaustion', status: 'open' },
            { id: 'octo-k9sp', priority: 1, type: 'bug', title: 'Restrict token query auth to WebSocket-only paths', status: 'open' },
            { id: 'octo-xjs5.10', priority: 1, type: 'task', title: 'Test plan: isolation matrix', status: 'open' },
            { id: 'octo-xjs5.7', priority: 1, type: 'task', title: 'Local linux provisioning: non-interactive sudo + tmpfiles', status: 'open' },
            { id: 'octo-xjs5.6', priority: 1, type: 'task', title: 'Security: runner socket authz + strict path guards', status: 'open' },
            { id: 'octo-xjs5.5', priority: 1, type: 'task', title: 'Backend: route all user operations through runner', status: 'open' },
            { id: 'octo-xjs5.4', priority: 1, type: 'task', title: 'Runner API: main chat storage ownership', status: 'open' },
            { id: 'octo-xjs5.3', priority: 1, type: 'task', title: 'Runner API: per-user mmry lifecycle', status: 'open' },
            { id: 'octo-xjs5.2', priority: 1, type: 'task', title: 'Runner API: per-user file operations', status: 'open' },
            { id: 'octo-xjs5.1', priority: 1, type: 'task', title: 'Runner API: user-plane session registry', status: 'open' },
            { id: 'octo-thhx.2', priority: 1, type: 'task', title: 'Onboarding API endpoints', status: 'open' },
            { id: 'octo-thhx.1', priority: 1, type: 'task', title: 'Onboarding state model and database schema', status: 'open' },
            { id: 'octo-thhx', priority: 1, type: 'epic', title: 'Onboarding & Agent UI Control', status: 'in_progress' },
            { id: 'octo-af5j.7.6', priority: 1, type: 'task', title: 'Release manifest generator (byt release)', status: 'open' },
            { id: 'octo-af5j.7.1', priority: 1, type: 'task', title: 'Version manifest file format', status: 'open' },
            { id: 'octo-af5j.7', priority: 1, type: 'feature', title: 'Dependency version pinning and compatibility matrix', status: 'open' },
            { id: 'octo-af5j.3', priority: 1, type: 'feature', title: 'Self-Update Command', status: 'open' },
            { id: 'octo-af5j.2', priority: 1, type: 'feature', title: 'Template Repository & Versioning', status: 'open' },
            { id: 'octo-af5j.1', priority: 1, type: 'feature', title: 'Binary Release Pipeline', status: 'open' },
            { id: 'octo-af5j', priority: 1, type: 'epic', title: 'Release & Update System', status: 'open' },
            { id: 'workspace-jux6.1', priority: 1, type: 'task', title: 'Lazy load main app components', status: 'open' },
            { id: 'octo-eez0', priority: 2, type: 'bug', title: 'octo-browser session is killed when sending instructions to chat', status: 'open' },
            { id: 'octo-af5j.6.4', priority: 2, type: 'feature', title: 'octo-setup web wizard', status: 'open' },
            { id: 'octo-af5j.6.3', priority: 2, type: 'feature', title: 'octo-setup CLI wizard', status: 'open' },
            { id: 'octo-3d6q', priority: 2, type: 'task', title: 'Slash command popup driven by get_commands', status: 'open' },
            { id: 'octo-vrzt', priority: 2, type: 'task', title: 'Remove MainChatPiService legacy code', status: 'open' },
            { id: 'octo-mkvc', priority: 2, type: 'task', title: 'Remove legacy canon/ module (from_pi, from_hstry, from_opencode)', status: 'open' },
            { id: 'octo-d0a5', priority: 2, type: 'task', title: 'Agent targeting for remote locations', status: 'open' },
            { id: 'octo-6nhg', priority: 2, type: 'task', title: 'Shared workspace UI grouping + merge/split', status: 'open' },
            { id: 'octo-jxn7', priority: 2, type: 'task', title: 'Add verbosity setting + persistence', status: 'open' },
            { id: 'octo-rpxy', priority: 2, type: 'epic', title: 'Chat verbosity levels for tool calls', status: 'open' },
            { id: 'octo-wah4', priority: 2, type: 'task', title: 'Security: Runner authentication and TLS for network endpoints', status: 'open' },
            { id: 'octo-mj2r', priority: 2, type: 'task', title: 'Frontend: Shared workspace UI with owner indicators', status: 'open' },
            { id: 'octo-w2zp', priority: 2, type: 'task', title: 'Frontend: Runner selector in session management UI', status: 'open' },
            { id: 'octo-888b', priority: 2, type: 'task', title: 'CLI: Workspace permission commands (grant, revoke, list, audit)', status: 'open' },
            { id: 'octo-cddx', priority: 2, type: 'task', title: 'CLI: Runner registration commands (register, list, status, unregister)', status: 'open' },
            { id: 'octo-72xf', priority: 2, type: 'task', title: 'Backend: Audit logging for cross-user access', status: 'open' },
            { id: 'octo-cab0', priority: 2, type: 'task', title: 'SessionService: Support multi-runner with permission checks', status: 'open' },
            { id: 'octo-kc4x', priority: 2, type: 'task', title: 'Backend: Extended RunnerClient with network endpoint support', status: 'open' },
            { id: 'octo-b67r', priority: 2, type: 'task', title: 'Backend: Workspace permission system with DB schema', status: 'open' },
            { id: 'octo-60b1', priority: 2, type: 'task', title: 'Runner registry: Multiple runners per user with registration', status: 'open' },
            { id: 'octo-fcs1', priority: 2, type: 'task', title: 'Design: Multi-runner architecture and workspace permission model', status: 'open' },
            { id: 'octo-7mxb', priority: 2, type: 'epic', title: 'MCP Apps Support - Interactive UI in Chat', status: 'open' },
            { id: 'octo-zjs8.4', priority: 2, type: 'task', title: 'Optimize Rust compilation times', status: 'open' },
            { id: 'octo-7xx0', priority: 2, type: 'task', title: 'Note: octo-ssh-proxy socket path must be mounted or moved for sandbox access', status: 'open' },
            { id: 'octo-p3n2.6', priority: 2, type: 'task', title: '.ctx file parsing', status: 'open' },
            { id: 'octo-p3n2.4', priority: 2, type: 'task', title: 'External chat API endpoint', status: 'open' },
            { id: 'octo-p3n2.3', priority: 2, type: 'task', title: 'Key management endpoints', status: 'open' },
            { id: 'octo-p3n2.2', priority: 2, type: 'task', title: 'API key generation and validation', status: 'open' },
            { id: 'octo-p3n2.1', priority: 2, type: 'task', title: 'Database migration for api_keys table', status: 'open' },
            { id: 'octo-8erz', priority: 2, type: 'bug', title: 'Prevent template copy from following symlinks', status: 'open' },
            { id: 'octo-015j', priority: 2, type: 'task', title: 'Move blocking filesystem work out of async request handlers', status: 'open' },
            { id: 'octo-fmxv', priority: 2, type: 'bug', title: 'Invalid boundary for multipart/form-data request when trying to save a file after editing it in the sidebar', status: 'open' },
            { id: 'octo-xjs5.9', priority: 2, type: 'task', title: 'Observability: runner logs + health endpoints', status: 'open' },
            { id: 'octo-xjs5.8', priority: 2, type: 'task', title: 'Compatibility: container mode runner adapter', status: 'open' },
            { id: 'octo-h0by', priority: 2, type: 'task', title: 'add user self-service section in settings (change password etc)', status: 'open' },
            { id: 'octo-85f4', priority: 2, type: 'bug', title: 'the stop button doesnt seem to stop a running agent response', status: 'open' },
            { id: 'octo-w85q', priority: 2, type: 'bug', title: 'When adding an image to the canvas, we need to automatically fit the canvas to the image size', status: 'open' },
            { id: 'octo-vbzq', priority: 2, type: 'feature', title: 'Add Edit button to file viewer toolbar', status: 'open' },
            { id: 'octo-58xa.3', priority: 2, type: 'task', title: 'WebView: MCP tool for opening webviews', status: 'open' },
            { id: 'octo-58xa.2', priority: 2, type: 'task', title: 'WebView: Frontend iframe component', status: 'open' },
            { id: 'octo-58xa.1', priority: 2, type: 'task', title: 'WebView: Backend proxy for localhost servers', status: 'open' },
            { id: 'octo-58xa', priority: 2, type: 'feature', title: 'Agent WebView: Iframe embed for agent-spawned web apps', status: 'open' },
            { id: 'octo-k8z1.13', priority: 2, type: 'task', title: 'Browser: User interaction handoff mode (OAuth, captcha, 2FA)', status: 'open' },
            { id: 'octo-thhx.16', priority: 2, type: 'task', title: 'Tutorial script using spotlight and A2UI', status: 'open' },
            { id: 'octo-thhx.15', priority: 2, type: 'task', title: 'Profile and personality setup conversation', status: 'open' },
            { id: 'octo-thhx.14', priority: 2, type: 'task', title: 'Provider setup wizard via A2UI', status: 'open' },
            { id: 'octo-thhx.13', priority: 2, type: 'task', title: 'i18n AGENTS.md translations', status: 'open' },
            { id: 'octo-thhx.12', priority: 2, type: 'task', title: 'Progressive UI unlock system', status: 'open' },
            { id: 'octo-thhx.11', priority: 2, type: 'task', title: 'Godmode command to skip onboarding', status: 'open' },
            { id: 'octo-thhx.10', priority: 2, type: 'task', title: 'Onboarding route and flow controller', status: 'open' },
            { id: 'octo-thhx.9', priority: 2, type: 'task', title: 'Language selection word cloud with CRT shader', status: 'open' },
            { id: 'octo-thhx.8', priority: 2, type: 'task', title: 'Tour mode for sequential spotlights', status: 'open' },
            { id: 'octo-smwr', priority: 2, type: 'feature', title: 'Add drag an drop capabilities to the file tree', status: 'open' },
            { id: 'octo-s4ez', priority: 2, type: 'task', title: 'Define context model and context sources (local + remote)', status: 'open' },
            { id: 'octo-skks', priority: 2, type: 'feature', title: 'Global main agent invoke with context injection', status: 'open' },
            { id: 'octo-k8z1.8', priority: 2, type: 'task', title: 'Session management: Browser lifecycle (start/stop with session)', status: 'open' },
            { id: 'octo-k8z1.5', priority: 2, type: 'task', title: 'Frontend: Add browser tab to central pane view switcher', status: 'open' },
            { id: 'octo-k8z1', priority: 2, type: 'feature', title: 'Add server-side browser feature (Option B) using agent-browser', status: 'open' },
            { id: 'octo-2r4f', priority: 2, type: 'task', title: 'Add slug field to session model and API responses', status: 'open' },
            { id: 'octo-6pkd', priority: 2, type: 'feature', title: 'Left sidebar: + next to SESSIONS should create session in current project', status: 'open' },
            { id: 'octo-af5j.7.5', priority: 2, type: 'task', title: 'LXC template version tags', status: 'open' },
            { id: 'octo-af5j.7.4', priority: 2, type: 'task', title: 'Container image version tags', status: 'open' },
            { id: 'octo-af5j.7.3', priority: 2, type: 'task', title: 'Bundled component downloads', status: 'open' },
            { id: 'octo-af5j.7.2', priority: 2, type: 'task', title: 'Component version checking at startup', status: 'open' },
            { id: 'octo-4me3', priority: 2, type: 'epic', title: 'Security/perf/idiomatic audit fixes', status: 'open' },
            { id: 'octo-af5j.4.7.5', priority: 2, type: 'task', title: 'LXC template download and preparation', status: 'open' },
            { id: 'octo-af5j.4.7.4', priority: 2, type: 'task', title: 'Octo backend installation on Proxmox host', status: 'open' },
            { id: 'octo-af5j.4.7.3', priority: 2, type: 'task', title: 'Storage configuration', status: 'open' },
            { id: 'octo-af5j.4.7.2', priority: 2, type: 'task', title: 'Network configuration for Proxmox', status: 'open' },
            { id: 'octo-af5j.4.7.1', priority: 2, type: 'task', title: 'Proxmox VE installation automation', status: 'open' },
            { id: 'octo-af5j.4.7', priority: 2, type: 'feature', title: 'Proxmox automated installer', status: 'open' },
            { id: 'octo-af5j.6.2', priority: 2, type: 'task', title: 'Platform detection and binary selection', status: 'open' },
            { id: 'octo-af5j.6.1', priority: 2, type: 'task', title: 'One-liner install command', status: 'open' },
            { id: 'octo-af5j.5.2', priority: 2, type: 'task', title: 'Migration scripts framework', status: 'open' },
            { id: 'octo-af5j.5.1', priority: 2, type: 'task', title: 'Config version detection', status: 'open' },
            { id: 'octo-af5j.6', priority: 2, type: 'feature', title: 'Installation Script Overhaul', status: 'open' },
            { id: 'octo-af5j.5', priority: 2, type: 'feature', title: 'Config Migration System', status: 'open' },
            { id: 'octo-af5j.4.3', priority: 2, type: 'task', title: 'RuntimeBackend trait implementation for Proxmox', status: 'open' },
            { id: 'octo-af5j.4.2', priority: 2, type: 'task', title: 'LXC template for agent containers', status: 'open' },
            { id: 'octo-af5j.4.1', priority: 2, type: 'task', title: 'Proxmox API client', status: 'open' },
            { id: 'octo-af5j.3.3', priority: 2, type: 'task', title: 'Service restart orchestration', status: 'open' },
            { id: 'octo-af5j.3.2', priority: 2, type: 'task', title: 'Binary download and verification', status: 'open' },
            { id: 'octo-af5j.3.1', priority: 2, type: 'task', title: 'Update check endpoint', status: 'open' },
            { id: 'octo-af5j.2.4', priority: 2, type: 'task', title: 'Agent template version tracking', status: 'open' },
            { id: 'octo-af5j.2.3', priority: 2, type: 'task', title: 'octoctl templates command', status: 'open' },
            { id: 'octo-af5j.2.2', priority: 2, type: 'task', title: 'Template manifest format', status: 'open' },
            { id: 'octo-af5j.2.1', priority: 2, type: 'task', title: 'Create octo-templates repository', status: 'open' },
            { id: 'octo-af5j.1.4', priority: 2, type: 'task', title: 'Version embedding in binaries', status: 'open' },
            { id: 'octo-af5j.1.3', priority: 2, type: 'task', title: 'GitHub Releases integration', status: 'open' },
            { id: 'octo-af5j.1.2', priority: 2, type: 'task', title: 'Release artifact packaging', status: 'open' },
            { id: 'octo-af5j.1.1', priority: 2, type: 'task', title: 'GitHub Actions workflow for cross-compilation', status: 'open' },
            { id: 'octo-af5j.4', priority: 2, type: 'feature', title: 'Proxmox LXC Runtime', status: 'open' },
            { id: 'octo-fxhc', priority: 2, type: 'task', title: 'Stream zip downloads to avoid large in-memory buffers', status: 'open' },
            { id: 'octo-1rb4.1', priority: 2, type: 'task', title: 'Make turn taking more robust', status: 'open' },
            { id: 'octo-wmrf.5', priority: 2, type: 'task', title: 'MCP Tool: a2ui_surface', status: 'open' },
            { id: 'octo-374f', priority: 2, type: 'feature', title: 'Cache-aware conversation compaction for Main Chat', status: 'open' },
            { id: 'octo-jrya', priority: 2, type: 'feature', title: 'Notification system for agents and external events', status: 'open' },
            { id: 'octo-7fms', priority: 2, type: 'task', title: 'Main Chat: Enhanced compaction (observation masking, 8-section summary)', status: 'open' },
            { id: 'workspace-jux6.5', priority: 2, type: 'task', title: 'Add service worker for static asset caching', status: 'open' },
            { id: 'workspace-jux6.4', priority: 2, type: 'task', title: 'Prefetch critical data during idle time', status: 'open' },
            { id: 'workspace-jux6.3', priority: 2, type: 'task', title: 'Add manual chunks to Vite build config', status: 'open' },
            { id: 'workspace-5pmk.9', priority: 2, type: 'task', title: 'Configure iOS and Android targets', status: 'open' },
            { id: 'workspace-5pmk.8', priority: 2, type: 'task', title: 'Add mobile-responsive UI adjustments', status: 'open' },
            { id: 'workspace-5pmk.7', priority: 2, type: 'task', title: 'Implement Tauri main with backend startup', status: 'open' },
            { id: 'workspace-5pmk.5', priority: 2, type: 'task', title: 'Update voice URL resolution for proxy mode', status: 'open' },
            { id: 'workspace-5pmk.4', priority: 2, type: 'task', title: 'Remove server-side auth from frontend', status: 'open' },
            { id: 'workspace-5pmk.3', priority: 2, type: 'task', title: 'Configure frontend for static export', status: 'open' },
            { id: 'workspace-5pmk.1', priority: 2, type: 'task', title: 'Add static file serving to backend', status: 'open' },
            { id: 'workspace-gg16.7', priority: 2, type: 'task', title: 'Local mode: Per-user mmry service management', status: 'open' },
            { id: 'workspace-gg16.5', priority: 2, type: 'task', title: 'Frontend: Memories tab UI components', status: 'open' },
            { id: 'workspace-gg16.4', priority: 2, type: 'task', title: 'Frontend: React Query hooks for memories API', status: 'open' },
            { id: 'workspace-x7gm.5', priority: 2, type: 'task', title: 'Frontend: Project management UI', status: 'open' },
            { id: 'workspace-x7gm.4', priority: 2, type: 'task', title: 'Update AgentBackend to support project-based sessions', status: 'open' },
            { id: 'workspace-x7gm.3', priority: 2, type: 'task', title: 'Add project management API endpoints', status: 'open' },
            { id: 'workspace-x7gm.2', priority: 2, type: 'task', title: 'Implement Project service and repository', status: 'open' },
            { id: 'workspace-x7gm.1', priority: 2, type: 'task', title: 'Add projects and project_members tables to database', status: 'open' },
            { id: 'workspace-x7gm', priority: 2, type: 'epic', title: 'Shared Projects: Multi-user access to same project/workspace', status: 'open' },
            { id: 'octo-mxd8.4', priority: 3, type: 'feature', title: 'macOS fallback: socket broker for guarded paths', status: 'open' },
            { id: 'octo-xncy.7', priority: 3, type: 'task', title: 'Android: UI exploration mode (DroidBot-style UTG crawler)', status: 'open' },
            { id: 'octo-xncy.6', priority: 3, type: 'task', title: 'Android: MCP tools for agent control (snapshot, tap, type, scroll)', status: 'open' },
            { id: 'octo-xncy.5', priority: 3, type: 'task', title: 'Android: Frontend AndroidView component with touch forwarding', status: 'open' },
            { id: 'octo-xncy.4', priority: 3, type: 'task', title: 'Android: Screencast streaming to frontend (reuse BrowserView pattern)', status: 'open' },
            { id: 'octo-xncy', priority: 3, type: 'epic', title: 'Android Emulator: Agent-controlled Android environment', status: 'open' },
            { id: 'octo-mbeh', priority: 3, type: 'task', title: 'Deduplicate and centralize path sanitization logic', status: 'open' },
            { id: 'octo-a256', priority: 3, type: 'task', title: 'Consolidate CopyButton implementations and handle clipboard failures consistently', status: 'open' },
            { id: 'octo-3trr', priority: 3, type: 'feature', title: 'Add browser extension mode (Option A) - fork Playwriter', status: 'open' },
            { id: 'octo-thhx.18', priority: 3, type: 'task', title: 'Multi-lingual user support', status: 'open' },
            { id: 'octo-thhx.17', priority: 3, type: 'task', title: 'Technical user detection for terminal unlock', status: 'open' },
            { id: 'octo-k8z1.12', priority: 3, type: 'chore', title: 'Documentation: Browser feature usage guide', status: 'open' },
            { id: 'octo-k8z1.11', priority: 3, type: 'task', title: 'Container mode: Browser container per session (Docker/Podman)', status: 'open' },
            { id: 'octo-k8z1.10', priority: 3, type: 'task', title: 'Human-in-the-loop: Credential access approval modal', status: 'open' },
            { id: 'octo-k8z1.9', priority: 3, type: 'task', title: 'Credential vault: UI for storing encrypted credentials', status: 'open' },
            { id: 'octo-af5j.4.7.6', priority: 3, type: 'task', title: 'First-run wizard for Proxmox+Octo', status: 'open' },
            { id: 'octo-af5j.4.6', priority: 3, type: 'task', title: 'GPU passthrough for LXC', status: 'open' },
            { id: 'octo-af5j.4.5', priority: 3, type: 'task', title: 'Proxmox cluster support', status: 'open' },
            { id: 'octo-af5j.4.4', priority: 3, type: 'task', title: 'LXC snapshot support', status: 'open' },
            { id: 'octo-af5j.3.4', priority: 3, type: 'task', title: 'Update channels (stable/beta/nightly)', status: 'open' },
            { id: 'octo-vne5', priority: 3, type: 'task', title: 'Move simple tree file walk off the async runtime', status: 'open' },
            { id: 'octo-wmrf.7', priority: 3, type: 'task', title: 'A2UI Custom Components Catalog', status: 'open' },
            { id: 'octo-a9ds', priority: 3, type: 'task', title: 'Main Chat: Agent coordination via mailz', status: 'open' },
            { id: 'octo-a9mc', priority: 3, type: 'task', title: 'Main Chat: skdlr heartbeat integration', status: 'open' },
            { id: 'workspace-ufvs', priority: 3, type: 'task', title: 'Integrate qmd for document search', status: 'open' },
            { id: 'workspace-jux6.6', priority: 3, type: 'task', title: 'Make i18n loading async', status: 'open' },
            { id: 'workspace-5pmk.10', priority: 3, type: 'task', title: 'Add platform-specific native features', status: 'open' },
            { id: 'octo-xncy.9', priority: 4, type: 'task', title: 'Android: Vision fallback with OmniParser/grounding model', status: 'open' },
            { id: 'octo-gpj7', priority: 4, type: 'chore', title: 'Avoid unwrap on WS event serialization', status: 'open' },
            { id: 'octo-92yw', priority: 4, type: 'chore', title: 'Deduplicate mmry proxy session checks', status: 'open' },
            { id: 'octo-h975', priority: 4, type: 'task', title: 'Main Chat: Message visibility filtering (hide tools by default)', status: 'open' }
        ];

        let selectedIssues = new Set();
        let currentFilter = 'all';
        let searchTerm = '';
        let collapsedPriorities = new Set();

        function getPriorityLabel(p) {
            return `P${p}`;
        }

        function groupByPriority(issues) {
            const groups = { 1: [], 2: [], 3: [], 4: [] };
            issues.forEach(issue => {
                if (groups[issue.priority]) {
                    groups[issue.priority].push(issue);
                }
            });
            return groups;
        }

        function filteredIssues() {
            return issuesData.filter(issue => {
                const typeMatch = currentFilter === 'all' || issue.type === currentFilter;
                const searchMatch = !searchTerm || 
                    issue.id.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    issue.title.toLowerCase().includes(searchTerm.toLowerCase());
                return typeMatch && searchMatch;
            });
        }

        function renderIssues() {
            const container = document.getElementById('issues-container');
            const filtered = filteredIssues();
            const groups = groupByPriority(filtered);
            
            container.innerHTML = '';
            
            [1, 2, 3, 4].forEach(priority => {
                const issues = groups[priority];
                if (issues.length === 0) return;

                const section = document.createElement('div');
                section.className = 'priority-section';

                const header = document.createElement('div');
                header.className = `priority-header ${collapsedPriorities.has(priority) ? 'collapsed' : ''}`;
                header.innerHTML = `
                    <div class="priority-toggle">▼</div>
                    <div class="priority-badge p${priority}">P${priority}</div>
                    <div class="priority-count">${issues.length} issues</div>
                    <div class="priority-select-all" onclick="event.stopPropagation(); togglePriority(${priority})">Select All</div>
                `;
                header.onclick = () => toggleCollapse(priority);

                const list = document.createElement('div');
                list.className = `issues-list ${collapsedPriorities.has(priority) ? 'hidden' : ''}`;
                
                issues.forEach(issue => {
                    const item = document.createElement('div');
                    item.className = `issue-item ${selectedIssues.has(issue.id) ? 'selected' : ''}`;
                    item.dataset.id = issue.id;
                    item.innerHTML = `
                        <div class="issue-checkbox ${selectedIssues.has(issue.id) ? 'checked' : ''}" onclick="event.stopPropagation(); toggleIssue('${issue.id}')"></div>
                        <div class="issue-id">${issue.id}</div>
                        <div class="issue-type ${issue.type}">${issue.type}</div>
                        <div class="issue-title">${issue.title}</div>
                        <div class="issue-status">${issue.status}</div>
                    `;
                    item.onclick = () => toggleIssue(issue.id);
                    list.appendChild(item);
                });

                section.appendChild(header);
                section.appendChild(list);
                container.appendChild(section);
            });

            document.getElementById('total-count').textContent = issuesData.length;
            updateStats();
        }

        function toggleIssue(id) {
            if (selectedIssues.has(id)) {
                selectedIssues.delete(id);
            } else {
                selectedIssues.add(id);
            }
            renderIssues();
            updateActionPanel();
        }

        function togglePriority(priority) {
            const priorityIssues = issuesData.filter(i => i.priority === priority);
            const allSelected = priorityIssues.every(i => selectedIssues.has(i.id));
            
            priorityIssues.forEach(issue => {
                if (allSelected) {
                    selectedIssues.delete(issue.id);
                } else {
                    selectedIssues.add(issue.id);
                }
            });
            
            renderIssues();
            updateActionPanel();
        }

        function toggleCollapse(priority) {
            if (collapsedPriorities.has(priority)) {
                collapsedPriorities.delete(priority);
            } else {
                collapsedPriorities.add(priority);
            }
            renderIssues();
        }

        function updateStats() {
            document.getElementById('selected-stat').textContent = selectedIssues.size;
        }

        function updateActionPanel() {
            const panel = document.getElementById('action-panel');
            const count = document.getElementById('selected-count');
            const preview = document.getElementById('command-preview');
            
            if (selectedIssues.size > 0) {
                panel.classList.add('active');
                count.textContent = selectedIssues.size;
                
                const reason = document.getElementById('close-reason').value;
                const reasonFlag = reason ? ` -r "${reason}"` : '';
                const commands = Array.from(selectedIssues).map(id => 
                    `trx close ${id}${reasonFlag}`
                ).join('\n');
                
                preview.textContent = commands;
            } else {
                panel.classList.remove('active');
            }
        }

        function clearSelection() {
            selectedIssues.clear();
            renderIssues();
            updateActionPanel();
        }

        function copyCommands() {
            const preview = document.getElementById('command-preview').textContent;
            navigator.clipboard.writeText(preview).then(() => {
                const btn = document.querySelector('.btn-primary');
                const original = btn.textContent;
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = original, 1500);
            });
        }

        // Event listeners
        document.getElementById('search').addEventListener('input', (e) => {
            searchTerm = e.target.value;
            renderIssues();
        });

        document.getElementById('close-reason').addEventListener('input', updateActionPanel);

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentFilter = btn.dataset.type;
                renderIssues();
            });
        });

        // Initial render
        renderIssues();
    </script>
</body>
</html>
